<!DOCTYPE HTML>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<title></title>
	<style>		
		.notplaying #ingame, .playing #countdown {display: none;}
		.playing #ingame, .notplaying #countdown {display: block;}
	</style>
</head>
<body class="notplaying">

<div id="countdown">
	<span id="days">00</span><span class="colon">:</span><span id="hours">00</span><span class="colon">:</span><span id="minutes">00</span><span class="colon">:</span><span id="seconds">00</span>
</div>

<div id="ingame">
	Current Match: Real Madrid vs. Whatever
</div>

<script>
	var M = {
			pad: function(number) {
				return number < 10 ? '0' + number : number;
			},
			gameTimes: [
				+new Date(2011, 11 - 1, 2, 20, 30),
				+new Date(2011, 11 - 1, 6, 20, 30),
				+new Date(2011, 11 - 1, 19, 20, 30),
				+new Date(2011, 11 - 1, 22, 20, 30),
				+new Date(2011, 11 - 1, 27, 20, 30),
				+new Date(2011, 12 - 1, 04, 20, 30),
				+new Date(2011, 12 - 1, 07, 20, 30),
				+new Date(2011, 12 - 1, 11, 20, 30),
				+new Date(2011, 12 - 1, 18, 20, 30)
			],
			strip: function(number){
				return Math.floor(number);
			},
			getDiff: function(now, to){
				var diff = {};
				diff.ms = to - now;
				diff.days = 	this.strip( diff.ms / 1000 / 60 / 60 / 24 );
				diff.hours = 	this.strip( diff.ms / 1000 / 60 / 60 - (diff.days * 24) );
				diff.minutes = 	this.strip( diff.ms / 1000 / 60 - 		(diff.days * 24 * 60) - (diff.hours * 60) );
				diff.seconds = 	this.strip( diff.ms / 1000 - 			(diff.days * 24 * 60 * 60) - (diff.hours * 60 * 60) - (diff.minutes * 60) );
				
				return diff;
			}
		},
		V = {
			els: {
				'days': 	document.getElementById('days'),
				'hours': 	document.getElementById('hours'),
				'minutes': 	document.getElementById('minutes'),
				'seconds': 	document.getElementById('seconds')
			},
			updateCountdown: function(timeLeft){
				V.els.days.innerHTML = M.pad( timeLeft.days );
				V.els.hours.innerHTML = M.pad( timeLeft.hours );
				V.els.minutes.innerHTML = M.pad( timeLeft.minutes );
				V.els.seconds.innerHTML = M.pad( timeLeft.seconds );
			}
		},
		C = {
			redirectTo: function(state){
				document.getElementsByTagName('body')[0].className = state;
			}
		};

	function update(){
		var diff = M.getDiff( +new Date(), M.gameTimes[0] );
		if(diff.ms <= 0) C.redirectTo("playing");
		
		V.updateCountdown( diff	);
	}
	
	/* Init */
	var games = M.gameTimes;
	while(games.length) {
		if( games[0] < +new Date() ) {
			games.shift()
		} else {
			break;
		}
	}
	setInterval(update, 1000);
</script>
</body>
</html>